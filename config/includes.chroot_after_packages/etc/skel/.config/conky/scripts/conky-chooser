#!/bin/bash

TIMEDATE(){
FILE=$HOME/.config/conky/conky-clock-date.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if ! pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
fi
}

FULLCONKY(){
FILE=$HOME/.config/conky/conky-full.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
}

TAO(){
FILE=$HOME/.config/conky/conky-tao.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
}

FORTUNES(){
FILE=$HOME/.config/conky/conky-fortunes.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
}

SHORTCUTS(){
FILE=$HOME/.config/conky/conky-shortcuts.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
}

BUILDDATE(){
FILE=$HOME/.config/conky/conky-build.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
}

CURRENT(){
FILE=$HOME/.config/conky/conky-current.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
}

WORLDCLOCK(){
FILE=$HOME/.config/conky/conky-world-clock.conf
if pgrep -x picom > /dev/null 2>&1; then
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\-- own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
else
if pgrep -f "$FILE" > /dev/null; then
    pkill -f "$FILE"
    else   
    sed -i '/own_window_transparent/c\own_window_transparent = true,' "$FILE"
    sed -i '/own_window_argb_visual/c\-- own_window_argb_visual = true,' "$FILE"
    sed -i '/own_window_argb_value/c\-- own_window_argb_value = 0,' "$FILE"
    bash -c "conky -c $FILE"
    fi
fi
}

export -f TIMEDATE
export -f FULLCONKY
export -f FORTUNES
export -f TAO
export -f SHORTCUTS
export -f BUILDDATE
export -f WORLDCLOCK

yad --title "Conky" --button=gtk-ok:0 --form --center --width=230 \
--height=600 --text="\nToggle Your Selections\n" --text-align=center \
--window-icon=conky-logomark-violet \
    --form \
    --field="                          Clock!appointment-new":BTN "bash -c 'TIMEDATE' >/dev/null 2>&1 &" \
    --field="                     Full Info!dialog-information":BTN "bash -c 'FULLCONKY' >/dev/null 2>&1 &" \
    --field="                    Fortunes!emblem-package":BTN "bash -c 'FORTUNES' >/dev/null 2>&1 &" \
    --field="                   Shortcuts!accessories-text-editor":BTN "bash -c 'SHORTCUTS' >/dev/null 2>&1 &" \
    --field="              Tao Te Ching!application-x-addon":BTN "bash -c 'TAO' >/dev/null 2>&1 &" \
    --field="               World Clock!emblem-web":BTN "bash -c 'WORLDCLOCK' >/dev/null 2>&1 &" \
    --field="                Install Date!application-certificate":BTN "bash -c 'BUILDDATE' >/dev/null 2>&1 &" \
    --field="       12H/24H Format!appointment-new":FBTN "bash -c '~/.config/conky/scripts/conky-12to24'" \
    --field="       Bg Transparency!preferences-system":FBTN "bash -c '~/.config/conky/scripts/conky-bg-trans'" \
    --field="             Bg Tint Color!org.xfce.settings.color":FBTN "bash -c '~/.config/conky/scripts/conky-bg-color'" \
    --field="            Restart Conky!media-playlist-repeat":FBTN "killall -SIGUSR1 conky" \
    --field="                  Kill Conky!process-stop":FBTN "killall conky" 
